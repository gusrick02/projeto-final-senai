<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Cotações</title>
    <style>
        /* Reset e estilos básicos */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        /* Cabeçalho */
        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            text-align: center;
            padding: 2rem 1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Container principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Seção de cotações */
        .quotations-section {
            margin-bottom: 3rem;
        }

        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: #2c3e50;
            font-size: 1.8rem;
        }

        /* Cards de cotação */
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.12);
        }

        .currency-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 1rem;
        }

        .currency-name {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }

        .currency-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #27ae60;
            margin: 0.5rem 0;
        }

        .currency-variation {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        /* Botões */
        .button {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(106, 17, 203, 0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(106, 17, 203, 0.4);
        }

        .button:active {
            transform: translateY(0);
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
            gap: 1rem;
        }

        /* Seção de histórico */
        .history-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 3rem;
        }

        .history-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .history-list {
            list-style: none;
        }

        .history-item {
            padding: 1rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-currency {
            font-weight: 600;
            color: #2c3e50;
        }

        .history-value {
            font-weight: 600;
            color: #27ae60;
        }

        .history-time {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        /* Formulário */
        .form-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-input {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            border-color: #6a11cb;
            outline: none;
            box-shadow: 0 0 0 2px rgba(106, 17, 203, 0.2);
        }

        /* Rodapé */
        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem 1rem;
            margin-top: 3rem;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .history-title {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Painel de Cotações</h1>
        <p class="subtitle">Acompanhe as cotações em tempo real</p>
    </header>

    <div class="container">
        <section class="quotations-section">
            <h2 class="section-title">Cotações Atuais</h2>
            <div class="cards-container" id="quotations-container">
                <!-- Cards serão gerados dinamicamente pelo JavaScript -->
            </div>
            <div class="button-container">
                <button class="button" id="refresh-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 8px;">
                        <path d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                        <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
                    </svg>
                    Atualizar Cotações
                </button>
                <button class="button" id="add-history-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 8px;">
                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                    </svg>
                    Adicionar ao Histórico
                </button>
            </div>
        </section>

        <section class="history-section">
            <div class="history-title">
                <h2>Histórico de Cotações</h2>
                <button class="button" id="clear-history-button">Limpar Histórico</button>
            </div>
            <ul class="history-list" id="history-list">
                <!-- Itens do histórico serão gerados dinamicamente -->
            </ul>
        </section>

        <section class="form-section">
            <h2 class="section-title">Configurações</h2>
            <div class="form-group">
                <label class="form-label" for="refresh-interval">Intervalo de Atualização Automática (segundos)</label>
                <input type="number" id="refresh-interval" class="form-input" min="10" value="30">
            </div>
            <div class="button-container">
                <button class="button" id="save-settings-button">Salvar Configurações</button>
            </div>
        </section>
    </div>

    <footer>
        <p>Painel de Cotações &copy; 2023 - Desenvolvido como projeto acadêmico</p>
    </footer>

    <script>
        // Elementos DOM
        const quotationsContainer = document.getElementById('quotations-container');
        const refreshButton = document.getElementById('refresh-button');
        const addHistoryButton = document.getElementById('add-history-button');
        const clearHistoryButton = document.getElementById('clear-history-button');
        const historyList = document.getElementById('history-list');
        const refreshIntervalInput = document.getElementById('refresh-interval');
        const saveSettingsButton = document.getElementById('save-settings-button');

        // Variáveis globais
        let currentQuotations = {};
        let autoRefreshInterval;

        // Função para buscar cotações da API
        async function fetchQuotations() {
            try {
                const response = await fetch('https://economia.awesomeapi.com.br/json/last/USD-BRL,EUR-BRL,BTC-BRL');
                const data = await response.json();
                
                // Processar dados da API
                currentQuotations = {
                    'USD-BRL': {
                        name: 'Dólar Americano',
                        value: parseFloat(data.USDBRL.ask).toFixed(2),
                        variation: '0.00%',
                        icon: '💵'
                    },
                    'EUR-BRL': {
                        name: 'Euro',
                        value: parseFloat(data.EURBRL.ask).toFixed(2),
                        variation: '0.00%',
                        icon: '💶'
                    },
                    'BTC-BRL': {
                        name: 'Bitcoin',
                        value: parseFloat(data.BTCBRL.ask).toFixed(2),
                        variation: '0.00%',
                        icon: '₿'
                    }
                };
                
                renderQuotations();
            } catch (error) {
                console.error('Erro ao buscar cotações:', error);
                alert('Erro ao buscar cotações. Verifique sua conexão e tente novamente.');
            }
        }

        // Função para renderizar as cotações
        function renderQuotations() {
            quotationsContainer.innerHTML = '';
            
            for (const currency in currentQuotations) {
                const quotation = currentQuotations[currency];
                
                const card = document.createElement('div');
                card.className = 'card';
                
                card.innerHTML = `
                    <div class="currency-icon">${quotation.icon}</div>
                    <h3 class="currency-name">${quotation.name}</h3>
                    <div class="currency-value">R$ ${quotation.value}</div>
                    <div class="currency-variation">${quotation.variation}</div>
                `;
                
                quotationsContainer.appendChild(card);
            }
        }

        // Função para adicionar cotações ao histórico
        function addToHistory() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('pt-BR');
            
            // Limitar histórico a 10 itens
            if (historyList.children.length >= 10) {
                historyList.removeChild(historyList.lastChild);
            }
            
            // Adicionar cada cotação ao histórico
            for (const currency in currentQuotations) {
                const quotation = currentQuotations[currency];
                
                const historyItem = document.createElement('li');
                historyItem.className = 'history-item';
                
                historyItem.innerHTML = `
                    <span class="history-currency">${quotation.name}</span>
                    <span class="history-value">R$ ${quotation.value}</span>
                    <span class="history-time">${timeString}</span>
                `;
                
                historyList.insertBefore(historyItem, historyList.firstChild);
            }
        }

        // Função para limpar histórico
        function clearHistory() {
            historyList.innerHTML = '';
        }

        // Função para configurar atualização automática
        function setupAutoRefresh() {
            const interval = parseInt(refreshIntervalInput.value) * 1000;
            
            if (autoRefreshInterval) {
                clearInterval(autoRefreshInterval);
            }
            
            if (interval >= 10000) { // Mínimo de 10 segundos
                autoRefreshInterval = setInterval(fetchQuotations, interval);
            }
        }

        // Event Listeners
        refreshButton.addEventListener('click', fetchQuotations);
        addHistoryButton.addEventListener('click', addToHistory);
        clearHistoryButton.addEventListener('click', clearHistory);
        saveSettingsButton.addEventListener('click', setupAutoRefresh);

        // Inicialização
        fetchQuotations();
        setupAutoRefresh();
    </script>
</body>
</html>